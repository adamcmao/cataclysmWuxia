[
  {
    "type": "effect_on_condition",
    "id": "EOC_STAFF_SOUND_RANDOMIZER",
    "effect": {
      "weighted_list_eocs": [
        [ { "id": "EOC_STAFF_SOUND_1", "effect": { "message": "Wack!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_2", "effect": { "message": "Whum!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_3", "effect": { "message": "Tok!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_4", "effect": { "message": "Thwok!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_5", "effect": { "message": "Bop!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_6", "effect": { "message": "Hnng!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_7", "effect": { "message": "Krack!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_8", "effect": { "message": "Fum!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_9", "effect": { "message": "Dom!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_10", "effect": { "message": "Pak!" } }, 1 ],
        [ { "id": "EOC_STAFF_SOUND_11", "effect": { "message": "Huf!" } }, 1 ]
      ]
    }
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PIERCE_THE_ALLEY",
    "condition": { "npc_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "effect": [
      { "u_location_variable": { "context_val": "loc" } },
      { "message": "_thrusting: <global_val:_thrusting>" },
      {
        "if": { "math": [ "_thrusting != 1" ] },
        "then": [
          { "message": "With feet planted, you thrust your staff forward, bridging the gap between yourself and your foes." },
          { "math": [ "_thrusting = 1" ] }
        ]
      },
      { "run_eocs": [ "EOC_STAFF_SOUND_RANDOMIZER" ] },
      { "npc_cast_spell": { "id": "pierce_the_alley_actual" }, "loc": { "context_val": "loc" } },
      { "run_eocs": "EOC_PIERCE_THE_ALLEY_CLEAR", "time_in_future": "5 seconds" }
    ],
    "false_effect": [ { "message": "Without a quarterstaff in hand you simply practice the motion." } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PIERCE_THE_ALLEY_CLEAR",
    "effect": [ { "math": [ "_thrusting = 0" ] }, { "message": "Reset thrusting to 0" } ]
  }
]
