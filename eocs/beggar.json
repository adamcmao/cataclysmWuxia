[
  {
    "type": "snippet",
    "category": "<STAFF_SOUNDS>",
    "text": [ "Fum!", "Dom!", "Bop!", "Thwok!", "Hnng!", "Wack!", "Whump!", "Tok!", "Krack!", "Pak!" ]
  },
  {
    "type": "snippet",
    "category": "<STAFF_HIT_MESSAGES>",
    "text": [
      "You strike the lower regions with a resounding <STAFF_SOUNDS>",
      "<STAFF_SOUNDS> You attack the center of mass!",
      "Weaving you slam into your target, <STAFF_SOUNDS>"
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PIERCE_THE_ALLEY",
    "condition": { "npc_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "effect": [
      { "u_location_variable": { "context_val": "loc" } },
      { "message": "<STAFF_SOUNDS>" },
      { "npc_cast_spell": { "id": "pierce_the_alley_actual" }, "loc": { "context_val": "loc" } }
    ],
    "false_effect": [ { "message": "Without a quarterstaff in hand you simply practice the motion." } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DOG_BEATING_STAFF_TECHNIQUE_AMOUNT",
    "condition": { "npc_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "effect": [
      { "u_location_variable": { "context_val": "loc" } },
      {
        "math": [
          "npc_spell_count = trunc(rng((n_spell_level('dog_beating_staff_technique') * 0.5 + 5),(n_spell_level('dog_beating_staff_technique') * 1 + 5)))"
        ]
      },
      { "run_eocs": [ "EOC_DOG_BEATING_STAFF_TECHNIQUE_LOOP" ] }
    ],
    "false_effect": [ { "message": "Without a quarterstaff in hand you simply practice the motion." } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DOG_BEATING_STAFF_TECHNIQUE_LOOP",
    "condition": { "math": [ "npc_spell_count > 0" ] },
    "effect": [
      { "message": "<STAFF_SOUNDS>" },
      { "npc_cast_spell": { "id": "dog_beating_staff_technique_actual" }, "loc": { "context_val": "loc" } },
      { "math": [ "npc_spell_count -= 1" ] },
      { "run_eocs": [ "EOC_DOG_BEATING_STAFF_TECHNIQUE_LOOP" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DOG_BEATING_STAFF_TECHNIQUE",
    "condition": { "npc_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "effect": [
      { "u_location_variable": { "context_val": "loc" } },
      { "message": "<STAFF_SOUNDS>" },
      { "npc_cast_spell": { "id": "dog_beating_staff_technique_actual" }, "loc": { "context_val": "loc" } }
    ],
    "false_effect": [ { "message": "Without a quarterstaff in hand you simply practice the motion." } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_TRUE_DOG_BEATING_STAFF_TECHNIQUE",
    "condition": { "npc_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "effect": [
      { "u_location_variable": { "context_val": "loc" } },
      { "message": "<STAFF_SOUNDS>" },
      { "npc_cast_spell": { "id": "true_dog_beating_staff_technique_actual" }, "loc": { "context_val": "loc" } }
    ],
    "false_effect": [ { "message": "Without a quarterstaff in hand you simply practice the motion." } ]
  }
]
