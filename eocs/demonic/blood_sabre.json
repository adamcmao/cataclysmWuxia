[
  {
    "type": "snippet",
    "category": "<SCARLET_KNIFE_PULSE_MESSAGES>",
    "text": [
      "Crimson forms a knife that darts like a living shadow.",
      "A pulse of qi shapes blood into a lethal dart.",
      "A shimmering, scarlet edge erupts from blood.",
      "The knife flies, red as fresh wound, unstoppable as fate.",
      "The pulse sends a slicing ribbon of blood through the air."
    ]
  },
  {
    "type": "snippet",
    "category": "<CRIMSON_BLOOD_SWORD_MESSAGES>",
    "text": [
      "Blood coils in your palm, forming a sword that hungers for your life force.",
      "A sword of blood grows sharp, fed by the user's own essence.",
      "The crimson blade thrums, drawing vitality with every strike.",
      "The sword thrives off your blood, sharp and dangerous in equal measure.",
      "Every swing drains a whisper of life, the sword hungering for more."
    ]
  },
  {
    "type": "snippet",
    "category": "<FLOWING_BLOOD_BLADES_MESSAGES>",
    "text": [
      "Two scarlet blades spiral forward, unstoppable as a river of fate.",
      "Twin swords of living blood pierce enemies as easily as wind through reeds.",
      "Blood blades spiral forward, slicing cleanly through those it meets.",
      "Flowing forward, striking all who dare approach.",
      "Spinning crimson edges shoot out, unstoppable and cruel."
    ]
  },
  {
    "type": "snippet",
    "category": "<DRIPPING_RED_RAIN_MESSAGES>",
    "text": [
      "You extend and retract your blade, only after does a drop of crimson fall.",
      "A touch so light, the air remained undisturbed, only for thin line to appear.",
      "You stab unfelt.",
      "Lighter than a falling hair, your cut goes unnoticed.",
      "Shallow and clean, your cut is unwilling to linger.",
      "Your sword touches and withdraws, only the wound remembers to bleed."
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_LOSE_BLOOD_TINY",
    "effect": [ { "math": [ "u_blood_usage = 100" ] }, { "run_eocs": [ "EOC_USE_BLOOD_OR_GROUND" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_LOSE_BLOOD_SMALL",
    "effect": [ { "math": [ "u_blood_usage = 1000" ] }, { "run_eocs": [ "EOC_USE_BLOOD_OR_GROUND" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_LOSE_BLOOD_MEDIUM",
    "effect": [ { "math": [ "u_blood_usage = 3000" ] }, { "run_eocs": [ "EOC_USE_BLOOD_OR_GROUND" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_LOSE_BLOOD_LARGE",
    "effect": [ { "math": [ "u_blood_usage = 5000" ] }, { "run_eocs": [ "EOC_USE_BLOOD_OR_GROUND" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_LOSE_BLOOD_HUGE",
    "effect": [ { "math": [ "u_blood_usage = 10000" ] }, { "run_eocs": [ "EOC_USE_BLOOD_OR_GROUND" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_USE_BLOOD_OR_GROUND",
    "effect": [
      {
        "store_coordinates_in": { "context_val": "bloody_ground" },
        "stop_at_first": true,
        "range": 1,
        "condition": { "and": [ { "map_field_id": "fd_blood", "loc": { "context_val": "bloody_ground" } } ] },
        "u_map_run_eocs": [
          {
            "id": "EOC_TEMP",
            "effect": [
              { "math": [ "u_blood_found = 1" ] },
              {
                "u_transform_radius": 0,
                "target_var": { "context_val": "bloody_ground" },
                "ter_furn_transform": "ter_remove_blood"
              }
            ]
          }
        ]
      },
      {
        "if": { "math": [ "u_blood_found == 0" ] },
        "then": [ { "math": [ "u_vitamin('blood') -= u_blood_usage" ] } ],
        "else": { "math": [ "u_blood_found = 0" ] }
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SPAWN_BLOOD_SWORD",
    "effect": {
      "switch": { "math": [ "u_spell_level('crimson_blood_sword')" ] },
      "cases": [
        { "case": 0, "effect": { "u_cast_spell": { "id": "spawn_crimson_blood_sword_actual" } } },
        { "case": 5, "effect": { "u_cast_spell": { "id": "spawn_crimson_blood_sword_actual2" } } },
        { "case": 10, "effect": { "u_cast_spell": { "id": "spawn_crimson_blood_sword_actual3" } } }
      ]
    }
  }
]
