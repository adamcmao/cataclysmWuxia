[
  {
    "type": "snippet",
    "category": "<HEAVEN_DEVOURING_ART_MESSAGES>",
    "text": [
      "You drive your palm into your opponents center, violently pulling their energy into your body",
      "Hands clamp down as qi is torn from the opponent like breath from lungs.",
      "Qi screams as it is forcefully drawn into your hands.",
      "Palms pulse greedily, drawing power faster than it can resist.",
      "Hands glow ominously as stolen qi floods inward."
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEAVEN_DEVOURING_ART_START",
    "condition": {
      "or": [
        { "not": { "u_has_species": "JIANGSHI" } },
        { "not": { "u_has_species": "ZOMBIE" } },
        { "not": { "u_has_effect": "effect_qi_drained" } }
      ]
    },
    "effect": [
      { "u_location_variable": { "context_val": "loc" } },
      { "u_add_effect": "effect_qi_drained", "duration": "10 hours" },
      { "math": [ "n_vitamin('qi_vitamin') += (rand(n_spell_level('heaven_devouring_art')*5)+50)" ] },
      {
        "weighted_list_eocs": [ [ "EOC_HEAVEN_DEVOURING_ART_VISION", 1 ], [ "EOC_HEAVEN_DEVOURING_ART_HALLUCINATE", 1 ] ]
      }
    ],
    "false_effect": [ { "message": "Something is wrong, you are unable to drain qi from this victim.", "type": "mixed" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEAVEN_DEVOURING_ART_VISION",
    "condition": { "not": { "npc_has_effect": "visuals" } },
    "effect": [ { "message": "Your vision blurs", "type": "bad" }, { "npc_add_effect": "visuals", "duration": [ 15, 60 ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEAVEN_DEVOURING_ART_HALLUCINATE",
    "effect": [
      {
        "message": "As your absorb the energy, your fate is intertwined with your victim, and you see all timelines that could have been.",
        "type": "bad"
      },
      {
        "npc_spawn_monster": "",
        "hallucination_count": [ 10, 15 ],
        "target_range": 10,
        "max_radius": 10,
        "lifespan": [ "15 seconds", "1 minutes" ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SOUL_BURNING_MERIDIAN_REVERSAL_CONFIRM",
    "effect": [
      {
        "run_eoc_selector": [ "EOC_SOUL_BURNING_MERIDIAN_REVERSAL", "EOC_SOUL_BURNING_MERIDIAN_REVERSAL_NOTHING" ],
        "allow_cancel": true,
        "names": [ "Yes", "No" ],
        "title": "Are you sure?",
        "descriptions": [ "You do not fear death.", "I am not ready for what is to come." ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SOUL_BURNING_MERIDIAN_REVERSAL_NOTHING",
    "effect": [  ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SOUL_BURNING_MERIDIAN_REVERSAL",
    "effect": [
      {
        "u_message": "You stab your chest, fingers drilling into your veins. You gaze out, taking in the scenery for what will most likely be your final stand."
      },
      { "u_add_effect": "qi_deviation_stat_boost", "duration": "5 minutes" },
      { "u_add_effect": "effect_dot_qi_recovery_tier_4", "duration": "5 minutes" },
      { "run_eocs": "EOC_QI_DEVIATION_BREAK_AND_BLEED_LEFT_ARM", "time_in_future": [ "1 minute", "5 minutes" ] },
      { "run_eocs": "EOC_QI_DEVIATION_BREAK_AND_BLEED_RIGHT_LEG", "time_in_future": [ "1 minute", "5 minutes" ] },
      { "run_eocs": "EOC_QI_DEVIATION_BREAK_AND_BLEED_RIGHT_ARM", "time_in_future": [ "1 minute", "5 minutes" ] },
      { "run_eocs": "EOC_QI_DEVIATION_BREAK_AND_BLEED_LEFT_LEG", "time_in_future": [ "1 minute", "5 minutes" ] },
      { "run_eocs": "EOC_QI_DEVIATION_HEAD_BLEED", "time_in_future": [ "1 minute", "5 minutes" ] },
      { "run_eocs": "EOC_QI_DEVIATION_TORSO_BLEED", "time_in_future": [ "1 minute", "5 minutes" ] },
      { "run_eocs": "EOC_SOUL_BURNING_MERIDIAN_REVERSAL_DRAWBACK", "time_in_future": "5 minutes" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SOUL_BURNING_MERIDIAN_REVERSAL_DRAWBACK",
    "effect": [
      { "u_add_effect": "qi_deviation_stat_negative", "duration": "1 day" },
      { "u_add_effect": "effect_dot_qi_drain_tier_4", "duration": "1 day" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_QI_DEVIATION_BREAK_AND_BLEED_LEFT_LEG",
    "effect": [
      { "u_message": "Your left leg explodes in gore!", "type": "bad" },
      { "u_add_effect": "bleed", "target_part": "leg_l", "duration": [ 1200, 2000 ] },
      { "math": [ "u_hp('leg_l') -= 999" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_QI_DEVIATION_BREAK_AND_BLEED_RIGHT_LEG",
    "effect": [
      { "u_message": "Your right leg explodes in gore!", "type": "bad" },
      { "u_add_effect": "bleed", "target_part": "leg_r", "duration": [ 1200, 2000 ] },
      { "math": [ "u_hp('leg_r') -= 999" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_QI_DEVIATION_BREAK_AND_BLEED_LEFT_ARM",
    "effect": [
      { "u_message": "Your left arm explodes in gore!", "type": "bad" },
      { "u_add_effect": "bleed", "target_part": "arm_l", "duration": [ 1200, 2000 ] },
      { "math": [ "u_hp('arm_l') -= 999" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_QI_DEVIATION_BREAK_AND_BLEED_RIGHT_ARM",
    "effect": [
      { "u_message": "Your right arm explodes in gore!", "type": "bad" },
      { "u_add_effect": "bleed", "target_part": "arm_r", "duration": [ 1200, 2000 ] },
      { "math": [ "u_hp('arm_r') -= 999" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_QI_DEVIATION_HEAD_BLEED",
    "effect": [
      { "u_message": "Your head throbs and blood flows out of your orifaces freely!", "type": "bad" },
      { "u_add_effect": "bleed", "target_part": "head", "duration": [ 1200, 2000 ] },
      { "math": [ "u_hp('head') -= 40" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_QI_DEVIATION_TORSO_BLEED",
    "effect": [
      { "u_message": "Your chest contorts and collapses on itself!", "type": "bad" },
      { "u_add_effect": "bleed", "target_part": "torso", "duration": [ 1200, 2000 ] },
      { "math": [ "u_hp('torso') -= 40" ] }
    ]
  }
]
