[
  {
    "type": "effect_on_condition",
    "id": "EOC_LEARN_TEST_ABILITY_ON_CHARACTER_CREATION",
    "eoc_type": "EVENT",
    "required_event": "game_start",
    "effect": [
      { "math": [ "u_spell_level('weak_punch') = 0" ] },
      { "math": [ "u_spell_level('clumsy_dash') = 0" ] },
      { "math": [ "u_spell_level('learn_test_ability') = 1" ] },
      { "math": [ "u_spell_level('forget_test_ability') = 1" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_BASIC_PHYSICAL",
    "eoc_type": "ACTIVATION",
    "condition": { "and": [ { "math": [ "u_spell_level('clumsy_dash') >= 1" ] }, { "math": [ "u_spell_level('weak_punch') >= 1" ] } ] },
    "effect": [
      { "math": [ "u_spell_level('clumsy_dash') = -1" ] },
      { "math": [ "u_spell_level('weak_punch') = -1" ] },
      { "math": [ "u_spell_level('straight_punch') = 0" ] },
      { "u_message": "Instead of swinging like a windmill, perhaps a straight line would be more efficient" },
      { "math": [ "u_spell_level('donkey_roll') = 0" ] },
      { "u_message": "All this tripping has given you an idea. What if you fall on purpose?" },
      { "u_forget_recipe": "meditate_to_basic_physical" },
      { "u_learn_recipe": "meditate_to_unlock_qi" }
    ],
    "false_effect": [ { "u_message": "Something doesn't feel right. You feet don't move as you want, and your fists swing off target" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_TEST_QI",
    "eoc_type": "EVENT",
    "required_event": "game_start",
    "effect": [
      { "math": [ "u_spell_level('gain_all_qi') = 0" ] },
      { "math": [ "u_spell_level('lose_all_qi') = 0" ] },
      { "math": [ "u_spell_level('gain_100_qi') = 0" ] },
      { "math": [ "u_spell_level('lose_100_qi') = 0" ] },
      { "u_message": "You learn DEBUG skills." }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_BASIC_QI",
    "eoc_type": "ACTIVATION",
    "condition": {
      "and": [ { "math": [ "u_spell_level('straight_punch') >= 1" ] }, { "math": [ "u_spell_level('donkey_roll') >= 1" ] } ]
    },
    "effect": [
      {
        "run_eocs": [ "EOC_UNLOCK_UNIVERSAL_QI", "EOC_UNLOCK_BASIC_BEGGAR", "EOC_UNLOCK_BASIC_BLOOD", "EOC_UNLOCK_JIANGSHI" ]
      },
      { "u_forget_recipe": "meditate_to_unlock_qi" },
      { "u_message": "You take your first step towards the truth." }
    ],
    "false_effect": [ { "u_message": "You feel like you are on the verge of a breakthrough, but something is missing." } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_UNIVERSAL_QI",
    "eoc_type": "ACTIVATION",
    "effect": [
      { "math": [ "u_spell_level('mountain_shaking_fist') = 0" ] },
      { "math": [ "u_spell_level('wind_following_steps') = 0" ] },
      { "math": [ "u_spell_level('three_needles_draw_venom') = 0" ] },
      { "math": [ "u_spell_level('soul_burning_meridian_reversal') = 0" ] },
      { "u_learn_recipe": "meditate_to_restore_qi" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_BASIC_BEGGAR",
    "eoc_type": "ACTIVATION",
    "effect": [
      { "math": [ "u_spell_level('dog_beating_staff_technique') = 0" ] },
      { "math": [ "u_spell_level('staff_turns_beggar_firm') = 0" ] },
      { "math": [ "u_spell_level('pierce_the_alley') = 0" ] },
      { "math": [ "u_spell_level('stick_snags_the_sleeve') = 0" ] },
      { "math": [ "u_spell_level('hidden_alley_rat_tide') = 0" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_BASIC_BLOOD",
    "eoc_type": "ACTIVATION",
    "effect": [
      { "math": [ "u_spell_level('scarlet_knife_pulse') = 0" ] },
      { "math": [ "u_spell_level('red_thread_binding') = 0" ] },
      { "math": [ "u_spell_level('crimson_blood_sword') = 0" ] },
      { "math": [ "u_spell_level('red_asura_revival_art') = 0" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_UNLOCK_JIANGSHI",
    "eoc_type": "ACTIVATION",
    "effect": [
      { "u_learn_recipe": "wuxia_jiangshi_basic_inert" },
      { "u_learn_recipe": "wuxia_wooden_casket" },
      { "math": [ "u_spell_level('yin_essence_reforging') = 0" ] }
    ]
  }
]
