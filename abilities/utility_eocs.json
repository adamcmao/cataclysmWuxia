[
  {
    "type": "effect_on_condition",
    "id": "EOC_WIND_FOLLOWING_STEPS_START",
    "condition": { "not": { "u_has_effect": "effect_wind_following_steps" } },
    "effect": [
      { "u_add_effect": "effect_wind_following_steps", "duration": "PERMANENT" },
      {
        "run_eocs": "EOC_WIND_FOLLOWING_STEPS_DRAIN",
        "time_in_future": [
          { "math": [ "(u_spell_level('wind_following_steps') * 5)" ] },
          { "math": [ "(u_spell_level('wind_following_steps') * 10)" ] }
        ]
      }
    ],
    "false_effect": [ { "run_eocs": "EOC_WIND_FOLLOWING_STEPS_STOP" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_WIND_FOLLOWING_STEPS_DRAIN",
    "condition": { "and": [ { "u_has_effect": "effect_wind_following_steps" }, { "math": [ "u_vitamin('qi') >= 50" ] } ] },
    "effect": [
      { "run_eocs": "EOC_LOSE_50_QI" },
      {
        "run_eocs": "EOC_WIND_FOLLOWING_STEPS_DRAIN",
        "time_in_future": [
          { "math": [ "(u_spell_level('wind_following_steps') * 5)" ] },
          { "math": [ "(u_spell_level('wind_following_steps') * 10)" ] }
        ]
      }
    ],
    "false_effect": [ { "run_eocs": "EOC_WIND_FOLLOWING_STEPS_STOP" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_WIND_FOLLOWING_STEPS_STOP",
    "condition": { "u_has_effect": "effect_wind_following_steps" },
    "effect": [ { "u_lose_effect": "effect_wind_following_steps" } ]
  }
]
