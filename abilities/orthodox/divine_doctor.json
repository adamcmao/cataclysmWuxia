[
  {
    "id": "divine_doctor_three_needles_draw_venom",
    "//": "TODO: Figure out why spell components aren't working",
    "type": "SPELL",
    "name": "Three Needles Draw Venom",
    "description": "Carefully insert needles to draw poison from your body",
    "message": "You insert needles across your chest to expel the poison in your body.",
    "spell_class": "DIVINE_DOCTOR",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_THREE_NEEDLES_DRAW_VENOM_START",
    "max_level": 10,
    "valid_targets": [ "self" ],
    "components": "spell_components_three_needles",
    "flags": [ "NO_HANDS", "LOUD" ],
    "base_casting_time": 60000,
    "casting_time_increment": -5400,
    "final_casting_time": 6000,
    "base_energy_cost": 300,
    "energy_increment": -20,
    "final_energy_cost": 100,
    "caster_condition": {
      "or": [
        { "u_has_effect": "poison" },
        { "u_has_effect": "poison", "bodypart": "head" },
        { "u_has_effect": "poison", "bodypart": "torso" },
        { "u_has_effect": "poison", "bodypart": "arm_r" },
        { "u_has_effect": "poison", "bodypart": "arm_l" },
        { "u_has_effect": "poison", "bodypart": "leg_r" },
        { "u_has_effect": "poison", "bodypart": "leg_l" },
        { "u_has_effect": "badpoison" },
        { "u_has_effect": "badpoison", "bodypart": "head" },
        { "u_has_effect": "badpoison", "bodypart": "torso" },
        { "u_has_effect": "badpoison", "bodypart": "arm_r" },
        { "u_has_effect": "badpoison", "bodypart": "arm_l" },
        { "u_has_effect": "badpoison", "bodypart": "leg_r" },
        { "u_has_effect": "badpoison", "bodypart": "leg_l" },
        { "u_has_effect": "venom_dmg" },
        { "u_has_effect": "venom_weaken" },
        { "u_has_effect": "venom_blind" },
        { "u_has_effect": "venom_pain" },
        { "u_has_effect": "paralyzepoison" }
      ]
    },
    "caster_condition_fail_message": "You're not suffering from poisoning and have nothing to detoxify.",
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "divine_doctor_golden_meridian_stimulation",
    "type": "SPELL",
    "name": "Golden Meridian Stimulation",
    "description": "Carefully insert needles to draw from your hidden strength.",
    "message": "You insert needles across your body and draw out your hidden strength.",
    "spell_class": "DIVINE_DOCTOR",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_GOLDEN_MERIDIAN_START",
    "max_level": 10,
    "valid_targets": [ "self" ],
    "components": "spell_components_three_needles",
    "flags": [ "NO_HANDS" ],
    "base_casting_time": 60000,
    "casting_time_increment": -5400,
    "final_casting_time": 6000,
    "base_energy_cost": 300,
    "energy_increment": -20,
    "final_energy_cost": 100,
    "caster_condition": { "not": [ { "u_has_effect": "effect_golden_meridian_buff" } ] },
    "caster_condition_fail_message": "You are already strengthened.",
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "divine_doctor_golden_thread_suturing",
    "type": "SPELL",
    "name": "Golden Thread Suturing",
    "description": "Carefully weave your open wounds close.",
    "message": "Using qi, you guide the thread into a perfect stitching",
    "spell_class": "DIVINE_DOCTOR",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_GOLDEN_THREAD_START",
    "max_level": 10,
    "valid_targets": [ "self" ],
    "components": "spell_components_short_string",
    "flags": [ "NO_HANDS" ],
    "base_casting_time": 60000,
    "casting_time_increment": -5400,
    "final_casting_time": 6000,
    "base_energy_cost": 300,
    "energy_increment": -20,
    "final_energy_cost": 100,
    "caster_condition": {
      "or": [
        { "u_has_effect": "bleed" },
        { "u_has_effect": "bleed", "bodypart": "head" },
        { "u_has_effect": "bleed", "bodypart": "torso" },
        { "u_has_effect": "bleed", "bodypart": "arm_r" },
        { "u_has_effect": "bleed", "bodypart": "arm_l" },
        { "u_has_effect": "bleed", "bodypart": "leg_r" },
        { "u_has_effect": "bleed", "bodypart": "leg_l" }
      ]
    },
    "caster_condition_fail_message": "You are not bleeding.",
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "divine_doctor_nine_pulse_rejuvenation",
    "//": "Skill to add long term health regen, up to 50% - 75% max",
    "type": "SPELL",
    "name": "Nine Pulse Rejuvenation",
    "description": "Carefully weave your open wounds close.",
    "message": "Using qi infused string, you create a perfect stitching",
    "spell_class": "DIVINE_DOCTOR",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_NINE_PULSE_REJUVENATION_START",
    "max_level": 10,
    "valid_targets": [ "self" ],
    "components": "spell_components_three_needles",
    "flags": [ "NO_HANDS" ],
    "base_casting_time": 60000,
    "casting_time_increment": -5400,
    "final_casting_time": 6000,
    "base_energy_cost": 300,
    "energy_increment": -20,
    "final_energy_cost": 100,
    "caster_condition": { "not": [ { "u_has_effect": "effect_nine_pulse_rejuvenation_buff" } ] },
    "caster_condition_fail_message": "You are already strengthened.",
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "divine_doctor_nine_pulse_rejuvenation_actual",
    "type": "SPELL",
    "name": "",
    "description": "",
    "valid_targets": [ "self" ],
    "min_damage": { "math": [ "(u_spell_level('divine_doctor_nine_pulse_rejuvenation') * 0.2)" ] },
    "max_damage": { "math": [ "(u_spell_level('divine_doctor_nine_pulse_rejuvenation') * 0.5)" ] },
    "effect": "attack",
    "shape": "blast",
    "flags": [ "SILENT", "RANDOM_DAMAGE" ]
  },
  {
    "id": "divine_doctor_golden_lotus_bone_setting_art",
    "type": "SPELL",
    "name": "Golden Lotus Bone Setting Art",
    "description": "Carefully set your broken bones.",
    "message": "Using qi infused needles, you set your broken bones.",
    "spell_class": "DIVINE_DOCTOR",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_GOLDEN_LOTUS_BONE_SETTING_ART_START",
    "max_level": 10,
    "valid_targets": [ "self" ],
    "components": "spell_components_three_needles",
    "flags": [ "NO_HANDS" ],
    "base_casting_time": 60000,
    "casting_time_increment": -5400,
    "final_casting_time": 6000,
    "base_energy_cost": 300,
    "energy_increment": -20,
    "final_energy_cost": 100,
    "caster_condition": {
      "or": [
        { "math": [ "u_hp('arm_r') == 0" ] },
        { "math": [ "u_hp('arm_l') == 0" ] },
        { "math": [ "u_hp('leg_r') == 0" ] },
        { "math": [ "u_hp('leg_l') == 0" ] }
      ]
    },
    "caster_condition_fail_message": "You have no broken bones.",
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  }
]
