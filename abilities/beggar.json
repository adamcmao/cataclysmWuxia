[
  {
    "//": "This will have an advanced version, true_dog_beating_staff_technique unlocked later",
    "id": "dog_beating_staff_technique",
    "type": "SPELL",
    "name": "Dog Beating Staff",
    "description": "A deceptive series of flowing moves that to the untrained eye appear to be nothing more than untrained swings.",
    "message": "",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "attack",
    "extra_effects": [ { "id": "dog_beating_staff_technique_actual" } ],
    "min_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 0.5) + 5" ] },
    "max_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 1) + 10" ] },
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "NON_MAGICAL", "SOMATIC", "NO_HANDS", "RANDOM_DAMAGE", "WONDER", "SILENT" ],
    "base_casting_time": 100,
    "base_energy_cost": 50,
    "min_range": 1,
    "max_range": 1,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  },
  {
    "//": "This is the spell repeated by dog_beating_staff_technique",
    "id": "dog_beating_staff_technique_actual",
    "type": "SPELL",
    "name": "Dog Beating Staff - Hidden",
    "description": "You should not see this",
    "message": "Crack!",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "attack",
    "damage_type": "bash",
    "min_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 0.5) + 5" ] },
    "max_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 1) + 10" ] },
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "NO_FAIL", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS", "SILENT" ],
    "base_casting_time": 10,
    "base_energy_cost": 0,
    "min_range": 1,
    "max_range": 1,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  },
  {
    "id": "staff_turns_beggar_firm",
    "type": "SPELL",
    "name": "Staff Turns, Beggar Stand Firm",
    "description": "Sweep the floor around you, striking anyone in your way",
    "message": "You seamlessly spin in a lazy circle, your staff outstretched",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "attack",
    "damage_type": "bash",
    "min_damage": { "math": [ "(u_spell_level('staff_turns_beggar_firm') * 0.5) + 1 " ] },
    "max_damage": { "math": [ "(u_spell_level('staff_turns_beggar_firm') * 2) + 5" ] },
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "SILENT", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS" ],
    "base_casting_time": 150,
    "base_energy_cost": 25,
    "min_range": 0,
    "min_aoe": 1,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  },
  {
    "id": "pierce_the_alley",
    "type": "SPELL",
    "name": "Pierce the Alley",
    "description": "Thrust your staff forward towards your foe",
    "message": "",
    "spell_class": "BEGGAR",
    "shape": "line",
    "effect": "effect_on_condition",
    "effect_str": "EOC_PIERCE_THE_ALLEY",
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "SILENT", "NON_MAGICAL", "SOMATIC", "NO_HANDS" ],
    "base_casting_time": 150,
    "base_energy_cost": 25,
    "min_range": 2,
    "range_increment": 0.15,
    "max_range": 3,
    "min_aoe": 0,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "pierce_the_alley_actual",
    "type": "SPELL",
    "name": "Pierce the Alley",
    "description": "Thrust forward towards your foe",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "attack",
    "damage_type": "bash",
    "min_damage": { "math": [ "(u_spell_level('pierce_the_alley') * 1) + 5 " ] },
    "max_damage": { "math": [ "(u_spell_level('pierce_the_alley') * 2) + 10" ] },
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "SILENT", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS" ],
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "min_range": 2,
    "range_increment": 0.15,
    "max_range": 3,
    "min_aoe": 0,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "stick_snags_the_sleeve",
    "type": "SPELL",
    "name": "Stick Snags the Sleeve",
    "description": "Pull your enemy close to you",
    "message": "You sharply yank your staff like a fishing rod, pulling your prey close.",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "pull_target",
    "max_level": 10,
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "SILENT", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS" ],
    "base_casting_time": 150,
    "base_energy_cost": 25,
    "min_range": 2,
    "range_increment": 0.25,
    "max_range": 4,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  },
  {
    "id": "true_dog_beating_staff_technique",
    "type": "SPELL",
    "name": "Dog Beating Staff Technique",
    "description": "The ultimate technique of the beggar sect. A deceptive series of flowing moves that to the untrained eye appear to be nothing more than untrained swings.",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "attack",
    "extra_effects": [ { "id": "true_dog_beating_staff_technique_actual" } ],
    "min_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 2) + 5" ] },
    "max_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 5) + 10" ] },
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "NON_MAGICAL", "SOMATIC", "NO_HANDS", "RANDOM_DAMAGE", "WONDER", "SILENT" ],
    "base_casting_time": 100,
    "base_energy_cost": 50,
    "min_range": 2,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  },
  {
    "//": "This is the spell repeated by true_dog_beating_staff_technique",
    "id": "true_dog_beating_staff_technique_actual",
    "type": "SPELL",
    "name": "Dog Beating Staff Technique - Hidden",
    "description": "You should not see this",
    "message": "CRACK!",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "attack",
    "damage_type": "bash",
    "min_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 2) + 5" ] },
    "max_damage": { "math": [ "(u_spell_level('dog_beating_staff_technique') * 5) + 10" ] },
    "max_level": 10,
    "valid_targets": [ "hostile" ],
    "flags": [ "NO_FAIL", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS", "SILENT" ],
    "base_casting_time": 10,
    "base_energy_cost": 0,
    "min_range": 1,
    "max_range": 1,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  },
  {
    "id": "hidden_alley_rat_tide",
    "type": "SPELL",
    "name": "Hidden Alley Rat Tide",
    "description": "Your time lying on the earth has allowed you to call upon those hated.",
    "message": "Channeling your qi into the ground, you summon those who were as despised as you.",
    "spell_class": "BEGGAR",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "wuxia_spirit_rat",
    "min_damage": { "math": [ "(u_spell_level('hidden_alley_rat_tide') * 0.2) + 1" ] },
    "max_damage": { "math": [ "(u_spell_level('hidden_alley_rat_tide') * 0.5) + 1" ] },
    "max_level": 10,
    "valid_targets": [ "ground" ],
    "flags": [ "NON_MAGICAL", "SOMATIC", "NO_HANDS", "SILENT" ],
    "base_casting_time": 100,
    "base_energy_cost": 50,
    "min_range": 1,
    "range_increment": 0.25,
    "max_range": 3,
    "min_aoe": 1,
    "max_aoe": 1,
    "min_duration": { "math": [ "( (u_spell_level('hidden_alley_rat_tide') * 6000) + 6000 )" ] },
    "max_duration": { "math": [ "( (u_spell_level('hidden_alley_rat_tide') * 6000) + 60000)" ] },
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "//condition": { "u_has_wielded_with_weapon_category": "QUARTERSTAVES" },
    "//condition_fail_message": "To beat a dog, you need to wield a staff"
  }
]
