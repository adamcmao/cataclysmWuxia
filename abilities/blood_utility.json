[
  {
    "id": "red_thread_binding",
    "type": "SPELL",
    "name": "Red Thread Binding",
    "description": "Use your own flowing blood to stitch your wounds shut.",
    "message": "Drawing threads from your own blood, you weave your wounds closed.",
    "spell_class": "SCARLET",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_SCARLET_STOP_BLEEDING",
    "//": "I don't think this condition is actually doing anything",
    "condition": {
      "or": [
        { "u_has_effect": "bleed", "bodypart": "head" },
        { "u_has_effect": "bleed", "bodypart": "torso" },
        { "u_has_effect": "bleed", "bodypart": "arm_r" },
        { "u_has_effect": "bleed", "bodypart": "arm_l" },
        { "u_has_effect": "bleed", "bodypart": "leg_r" },
        { "u_has_effect": "bleed", "bodypart": "leg_l" }
      ]
    },
    "max_level": 1,
    "valid_targets": [ "self" ],
    "flags": [ "SILENT", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS" ],
    "base_casting_time": 1000,
    "base_energy_cost": 100,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" },
    "condition_fail_message": "You are not bleeding."
  },
  {
    "id": "crimson_blood_sword",
    "type": "SPELL",
    "name": "Crimson Blood Sword",
    "description": "",
    "message": "",
    "spell_class": "SCARLET",
    "shape": "blast",
    "effect": "attack",
    "extra_effects": [ { "id": "drain_blood_medium_hidden", "hit_self": true }, { "id": "spawn_crimson_blood_sword" } ],
    "max_level": 10,
    "valid_targets": [ "self" ],
    "flags": [ "SILENT", "NON_MAGICAL", "RANDOM_DAMAGE", "SOMATIC", "NO_HANDS" ],
    "base_casting_time": 500,
    "base_energy_cost": 100,
    "energy_source": { "type": "VITAMIN", "vitamin": "qi_vitamin", "color": "c_blue" }
  },
  {
    "id": "spawn_crimson_blood_sword",
    "type": "SPELL",
    "name": "Crimson Blood Sword - HIDDEN",
    "description": "Actually does the spawning of the crimson blood sword",
    "valid_targets": [ "none" ],
    "flags": [ "NO_FAIL", "SILENT", "NON_MAGICAL", "NO_HANDS", "NO_EXPLOSION_SFX" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "wuxia_crimson_blood_sword",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_spell_level('crimson_blood_sword') * 10000) + 10000)" ] },
    "max_duration": { "math": [ "( (u_spell_level('crimson_blood_sword') * 10000) + 10000)" ] }
  },
  {
    "id": "drain_blood_small_hidden",
    "type": "SPELL",
    "name": "Drain Blood Small",
    "description": "",
    "message": "",
    "spell_class": "SCARLET",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_LOSE_BLOOD_SMALL",
    "max_level": 0,
    "valid_targets": [ "self" ],
    "flags": [ "NO_FAIL", "SILENT", "NON_MAGICAL", "NO_HANDS", "NO_EXPLOSION_SFX" ],
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "max_range": 0,
    "energy_source": { "type": "VITAMIN", "vitamin": "blood", "color": "c_red" }
  },
  {
    "id": "drain_blood_medium_hidden",
    "type": "SPELL",
    "name": "Drain Blood Medium",
    "description": "",
    "message": "",
    "spell_class": "SCARLET",
    "shape": "blast",
    "effect": "effect_on_condition",
    "effect_str": "EOC_LOSE_BLOOD_MEDIUM",
    "max_level": 0,
    "valid_targets": [ "self" ],
    "flags": [ "NO_FAIL", "SILENT", "NON_MAGICAL", "NO_HANDS", "NO_EXPLOSION_SFX" ],
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "max_range": 0,
    "energy_source": { "type": "VITAMIN", "vitamin": "blood", "color": "c_red" }
  }
]
